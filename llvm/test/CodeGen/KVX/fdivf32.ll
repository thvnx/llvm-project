; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s -mtriple=kvx-kalray-cos | FileCheck %s

define float @fdivf32_normal(float %a, float %b) {
; CHECK-LABEL: fdivf32_normal:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    addd $r12 = $r12, -32
; CHECK-NEXT:    get $r16 = $ra
; CHECK-NEXT:    ;;
; CHECK-NEXT:    .cfi_def_cfa_offset 32
; CHECK-NEXT:    sd 0[$r12] = $r16
; CHECK-NEXT:    call __divsf3
; CHECK-NEXT:    ;;
; CHECK-NEXT:    .cfi_offset 67, -32
; CHECK-NEXT:    ld $r16 = 0[$r12]
; CHECK-NEXT:    ;;
; CHECK-NEXT:    set $ra = $r16
; CHECK-NEXT:    addd $r12 = $r12, 32
; CHECK-NEXT:    ;;
; CHECK-NEXT:    .cfi_def_cfa_offset 0
; CHECK-NEXT:    ret
; CHECK-NEXT:    ;;
entry:
  %div = fdiv float %a, %b
  ret float %div
}

define float @fdivf32_fast(float %a, float %b) {
; CHECK-LABEL: fdivf32_fast:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    frecw $r1 = $r1
; CHECK-NEXT:    ;;
; CHECK-NEXT:    fmulw $r0 = $r0, $r1
; CHECK-NEXT:    ret
; CHECK-NEXT:    ;;
entry:
  %div = fdiv fast float %a, %b
  ret float %div
}

define float @fdivf32_arcp(float %a, float %b) {
; CHECK-LABEL: fdivf32_arcp:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    frecw $r1 = $r1
; CHECK-NEXT:    ;;
; CHECK-NEXT:    fmulw $r0 = $r0, $r1
; CHECK-NEXT:    ret
; CHECK-NEXT:    ;;
entry:
  %div = fdiv arcp float %a, %b
  ret float %div
}
